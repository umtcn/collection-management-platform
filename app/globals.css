@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --font-inter: 'Inter', system-ui, -apple-system, sans-serif;
    }

    body {
        @apply bg-light-bg text-light-text dark:bg-dark-bg dark:text-dark-text;
        @apply font-sans antialiased;
    }

    /* Scrollbar Styling */
    ::-webkit-scrollbar {
        @apply w-2 h-2;
    }

    ::-webkit-scrollbar-track {
        @apply bg-light-card dark:bg-dark-card;
    }

    ::-webkit-scrollbar-thumb {
        @apply bg-gray-300 dark:bg-gray-600 rounded-full;
    }

    ::-webkit-scrollbar-thumb:hover {
        @apply bg-gray-400 dark:bg-gray-500;
    }

    /* Focus Visible */
    *:focus-visible {
        @apply outline-none ring-2 ring-primary-500 ring-offset-2 ring-offset-white dark:ring-offset-dark-bg;
    }
}

@layer components {

    /* Container */
    .container-custom {
        @apply mx-auto px-4 sm:px-6 lg:px-8;
    }

    /* Card */
    .card {
        @apply bg-white dark:bg-dark-card border border-light-border dark:border-dark-border rounded-lg shadow-sm;
    }

    /* Button Base */
    .btn {
        @apply inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors;
        @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500;
        @apply disabled:opacity-50 disabled:pointer-events-none;
    }

    .btn-primary {
        @apply bg-black dark:bg-white text-white dark:text-black;
        @apply hover:bg-gray-800 dark:hover:bg-gray-100;
    }

    .btn-secondary {
        @apply bg-white dark:bg-dark-card text-black dark:text-white;
        @apply border border-light-border dark:border-dark-border;
        @apply hover:bg-gray-50 dark:hover:bg-gray-800;
    }

    .btn-ghost {
        @apply hover:bg-gray-100 dark:hover:bg-gray-800;
    }

    /* Input */
    .input {
        @apply w-full px-3 py-2 text-sm rounded-md;
        @apply bg-white dark:bg-dark-card;
        @apply border border-light-border dark:border-dark-border;
        @apply placeholder:text-gray-400 dark:placeholder:text-gray-500;
        @apply focus:outline-none focus:ring-2 focus:ring-primary-500;
        @apply disabled:opacity-50 disabled:cursor-not-allowed;
    }

    /* Label */
    .label {
        @apply text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5;
    }

    /* Modal Overlay */
    .modal-overlay {
        @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-50;
        @apply flex items-center justify-center p-4;
    }

    /* Modal Content */
    .modal-content {
        @apply bg-white dark:bg-dark-card rounded-xl shadow-xl;
        @apply w-full max-w-lg max-h-[90vh] overflow-auto;
        @apply animate-scale-in;
    }

    /* Dropdown */
    .dropdown-content {
        @apply absolute z-50 mt-2 w-full rounded-md;
        @apply bg-white dark:bg-dark-card;
        @apply border border-light-border dark:border-dark-border;
        @apply shadow-lg animate-fade-in;
    }

    /* Table */
    .table {
        @apply w-full text-sm text-left;
    }

    .table-header {
        @apply bg-gray-50 dark:bg-dark-card border-b border-light-border dark:border-dark-border;
    }

    .table-row {
        @apply border-b border-light-border dark:border-dark-border;
        @apply hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors;
    }

    .table-cell {
        @apply px-2 py-2 sm:px-4 sm:py-3;
    }

    /* Badge */
    .badge {
        @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
    }

    .badge-primary {
        @apply bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-200;
    }

    /* Grid Layouts */
    .grid-auto-fit {
        @apply grid gap-4;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    }

    .grid-auto-fill {
        @apply grid gap-4;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    }

    /* Product Card */
    .product-card {
        @apply relative bg-white dark:bg-dark-card border border-light-border dark:border-dark-border;
        @apply rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow;
    }

    /* Drag and Drop */
    .dragging {
        @apply opacity-50 scale-95;
    }

    .drag-over {
        @apply ring-2 ring-primary-500;
    }
}

@layer utilities {

    /* Text Utilities */
    .text-balance {
        text-wrap: balance;
    }

    /* Truncate with lines */
    .line-clamp-1 {
        display: -webkit-box;
        -webkit-line-clamp: 1;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .line-clamp-3 {
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    /* Safe Area */
    .safe-top {
        padding-top: env(safe-area-inset-top);
    }

    .safe-bottom {
        padding-bottom: env(safe-area-inset-bottom);
    }

    /* Hide scrollbar */
    .hide-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    .hide-scrollbar::-webkit-scrollbar {
        display: none;
    }

    /* Custom animations */
    .animate-shimmer {
        animation: shimmer 2s infinite;
        background: linear-gradient(90deg,
                transparent,
                rgba(255, 255, 255, 0.1),
                transparent);
        background-size: 200% 100%;
    }

    @keyframes shimmer {
        0% {
            background-position: -200% 0;
        }

        100% {
            background-position: 200% 0;
        }
    }
}